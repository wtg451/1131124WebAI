<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ç‰©ç†ç´„æŸç¤ºç¯„</title>
    <style>
        canvas {
            border: 1px solid #000;
        }
        body {
            margin: 0;
            overflow: hidden;
        }
        .back-to-index {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-family: Arial, sans-serif;
            z-index: 9999;
            transition: background-color 0.3s;
        }
        .back-to-index:hover {
            background-color: rgba(0, 0, 0, 0.9);
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-to-index">ğŸ  å›åˆ°é¦–é </a>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <script>
        // Matter.js æ¨¡çµ„åˆ¥å
        const Engine = Matter.Engine,
            Render = Matter.Render,
            Runner = Matter.Runner,
            Bodies = Matter.Bodies,
            Composite = Matter.Composite,
            Constraint = Matter.Constraint,
            MouseConstraint = Matter.MouseConstraint,
            Mouse = Matter.Mouse;

        // å»ºç«‹å¼•æ“
        const engine = Engine.create();
        const world = engine.world;

        // å»ºç«‹æ¸²æŸ“å™¨
        const render = Render.create({
            element: document.body,
            engine: engine,
            options: {
                width: window.innerWidth,
                height: window.innerHeight,
                wireframes: false
            }
        });

        // å»ºç«‹å…©å€‹æ–¹å½¢ï¼ˆå½ˆæ€§ç´„æŸï¼‰
        const box1 = Bodies.rectangle(300, 300, 50, 50, {
            render: { 
                fillStyle: '#F0A500'  // æ©™è‰²
            }
        });
        const box2 = Bodies.rectangle(400, 300, 50, 50, {
            render: { 
                fillStyle: '#F0A500'  // æ©™è‰²
            }
        });

        // å½ˆæ€§ç´„æŸï¼ˆå…©æ–¹å½¢ä¹‹é–“ï¼‰
        const elastic1 = Constraint.create({
            bodyA: box1,
            bodyB: box2,
            stiffness: 0.01,  // å½ˆæ€§ä¿‚æ•¸
            damping: 0.1,     // é˜»å°¼
            length: 100,      // åŸå§‹é•·åº¦
            render: {
                visible: true,
                strokeStyle: '#4A4A4A',
                lineWidth: 5
            }
        });

        // å»ºç«‹åœ“çƒå’Œå›ºå®šé»ï¼ˆå½ˆæ€§ç´„æŸï¼‰
        const circle1 = Bodies.circle(500, 300, 30);
        const elastic2 = Constraint.create({
            pointA: { x: 500, y: 100 },
            bodyB: circle1,
            stiffness: 0.01,
            damping: 0.1,     // é˜»å°¼
            length: 200,      // åŸå§‹é•·åº¦
        });

        // å»ºç«‹å…©å€‹åœ“ï¼ˆå‰›æ€§ç´„æŸï¼‰
        const bigCircle = Bodies.circle(700, 300, 50);
        const smallCircle = Bodies.circle(700, 500, 25);

        // å‰›æ€§ç´„æŸï¼ˆå…©åœ“ä¹‹é–“ï¼‰
        const rigid1 = Constraint.create({
            bodyA: bigCircle,
            bodyB: smallCircle,
            length: 200,
            stiffness: 1
        });

        // å»ºç«‹åœ“çƒå’Œå›ºå®šé»ï¼ˆå‰›æ€§ç´„æŸï¼‰
        const circle2 = Bodies.circle(900, 300, 30);
        const rigid2 = Constraint.create({
            pointA: { x: 900, y: 100 },
            bodyB: circle2,
            stiffness: 0.01
        });

        // å»ºç«‹é‚Šç•Œ
        const ground = Bodies.rectangle(window.innerWidth/2, window.innerHeight, window.innerWidth, 20, {
            isStatic: true
        });

        // å»ºç«‹æ–¹å¡Šå¡”
        const stackColumns = 2;
        const stackRows = 10;
        const stackX = window.innerWidth - 100;
        const stackY = window.innerHeight - 30;
        
        // éš¨æ©Ÿé¡è‰²å‡½æ•¸
        function getRandomColor() {
            const colors = [
                '#FF6B6B', // ç´…
                '#4ECDC4', // é’
                '#45B7D1', // è—
                '#96CEB4', // ç¶ 
                '#FFEEAD', // é»ƒ
                '#D4A5A5', // ç²‰
                '#9B59B6', // ç´«
                '#E67E22'  // æ©™
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // éš¨æ©Ÿå°ºå¯¸å‡½æ•¸
        function getRandomSize() {
            return {
                width: Math.random() * 20 + 15,  // 15-35ä¹‹é–“çš„å¯¬åº¦
                height: Math.random() * 30 + 30  // 30-60ä¹‹é–“çš„é«˜åº¦
            };
        }
        
        for(let row = 0; row < stackRows; row++) {
            for(let col = 0; col < stackColumns; col++) {
                const size = getRandomSize();
                const block = Bodies.rectangle(
                    stackX + col * 35,  // å¢åŠ é–“è·é¿å…é‡ç–Š
                    stackY - row * 65,  // å¢åŠ é–“è·é¿å…é‡ç–Š
                    size.width,
                    size.height,
                    {
                        render: {
                            fillStyle: getRandomColor()
                        }
                    }
                );
                Composite.add(world, block);
            }
        }

        // åŠ å…¥æ»‘é¼ æ§åˆ¶
        const mouse = Mouse.create(render.canvas);
        const mouseConstraint = MouseConstraint.create(engine, {
            mouse: mouse,
            constraint: {
                stiffness: 0.2,
                render: {
                    visible: false
                }
            }
        });
        Composite.add(world, mouseConstraint);

        // å¿…é ˆåŠ å…¥é€™è¡Œæ‰èƒ½è®“æ»‘é¼ äº‹ä»¶æ­£å¸¸é‹ä½œ
        render.mouse = mouse;

        // å°‡æ‰€æœ‰ç‰©é«”æ·»åŠ åˆ°ä¸–ç•Œä¸­
        Composite.add(world, [box1, box2, circle1, bigCircle, smallCircle, circle2, ground]);

        // å°‡ç´„æŸæ·»åŠ åˆ°ä¸–ç•Œä¸­
        Composite.add(world, [elastic1, elastic2, rigid1, rigid2]);

        // å»ºç«‹ Runner
        const runner = Runner.create();
        Runner.run(runner, engine);

        // é‹è¡Œæ¸²æŸ“å™¨
        Render.run(render);
    </script>
</body>
</html>
